import{B as m}from"./BaseChart-fcdc670e.js";import{o as f,c as p,a as g,b}from"./app-20ae04c6.js";class _ extends m{constructor(t){super(t),this.options.fromColor="#e9c46a",this.options.toColor="#e76f51"}roundedCorner(t=5){return this.svg.selectAll("rect").attr("rx",t).attr("ry",t),this}data(t){return super.data(t)}build(){const t=[];this._data.forEach(e=>{e.data.forEach(n=>{t.push(n)})});const l=this.buildAxisBottom(t),r=this.buildAxisLeft(t),i=this.getColors(this._data.length),s=this;return this._data.forEach((e,n)=>{const c=e.name;this.svg.selectAll(`.bar.${c}`).data(e.data).join(o=>{o=o.append("rect").attr("class",`bar ${c}`).attr("x",function(a){return l(a.name)-n*10}).attr("tooltip",a=>a.name+": "+a.value).attr("width",this.width/t.length),s.options.animation.enabled&&(o=o.attr("height",0).attr("y",function(a){return r(0)}).transition().duration(s.options.animation.duration)),o.attr("height",a=>s.height-r(a.value)).attr("y",function(a){return r(a.value)}).attr("fill",i[n]).delay(function(a,u){return u*10})},o=>{s.options.animation.enabled&&(o=o.transition().duration(s.options.animation.duration)),o.attr("y",function(a){return r(a.value)}).attr("height",a=>s.height-r(a.value))},o=>o.transition(400).attr("x",0).attr("y",0).attr("height",0).remove())}),this.options.tooltip&&this.buildTooltip("rect",e=>e.name+": "+e.value),this.options.legend&&this.buildLegends(this._data,i),this}}const v={id:"stackedbar-chart-demo",class:"w-full h-full flex flex-col"},x=b("div",{id:"stackedbar-chart",class:"w-1/2 h-4/6"},null,-1),B=[x],D={name:"StackedBarChart",setup(d){return f(()=>{const t=()=>{const r=[],i=[],s=()=>{const e=new Date(2022,0,1),n=new Date;return new Date(e.getTime()+Math.random()*(n.getTime()-e.getTime()))};for(let e=0;e<30;e++){const n=Math.floor(Math.random()*100),c=Math.floor(Math.random()*n),h=s();r.push({name:h,value:n}),i.push({name:h,value:c})}return[{name:"Total",data:r},{name:"Used",data:i}]};new _(document.getElementById("stackedbar-chart")).data(t()).margin({bottom:50}).build().rotateLabels().pretty()}),(t,l)=>(g(),p("div",v,B))}};export{D as default};
