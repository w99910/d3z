import{B as m}from"./BaseChart-c38ba4f7.js";import{o as f,c as p,a as g,b}from"./app-20f80407.js";class _ extends m{constructor(t){super(t),this.options.fromColor="#e9c46a",this.options.toColor="#e76f51"}roundedCorner(t=5){return this.svg.selectAll("rect").attr("rx",t).attr("ry",t),this}data(t){return super.data(t)}build(){const t=[];this._data.forEach(e=>{e.data.forEach(r=>{t.push(r)})});const l=this.buildAxisBottom(t),n=this.buildAxisLeft(t),i=this.getColors(this._data.length),s=this;return this._data.forEach((e,r)=>{const c=e.name;this.svg.selectAll(`.bar.${c}`).data(e.data).join(o=>{o=o.append("rect").attr("class",`bar ${c}`).attr("stroke",this.options.strokeColor).attr("x",function(a){return l(a.name)-r*10}).attr("tooltip",a=>a.name+": "+a.value).attr("width",this.width/t.length),s.options.animation.enabled&&(o=o.attr("height",0).attr("y",function(a){return n(0)}).transition().duration(s.options.animation.duration)),o.attr("height",a=>s.height-n(a.value)).attr("y",function(a){return n(a.value)}).attr("fill",i[r]).delay(function(a,u){return u*10})},o=>{s.options.animation.enabled&&(o=o.transition().duration(s.options.animation.duration)),o.attr("y",function(a){return n(a.value)}).attr("height",a=>s.height-n(a.value))},o=>o.transition(400).attr("x",0).attr("y",0).attr("height",0).remove())}),this.options.tooltip&&this.buildTooltip("rect",e=>e.name+": "+e.value),this.options.legend&&this.buildLegends(this._data,i),this}}const v={id:"stackedbar-chart-demo",class:"w-full h-full flex flex-col"},k=b("div",{id:"stackedbar-chart",class:"w-1/2 h-4/6"},null,-1),x=[k],y={name:"StackedBarChart",setup(d){return f(()=>{const t=()=>{const n=[],i=[],s=()=>{const e=new Date(2022,0,1),r=new Date;return new Date(e.getTime()+Math.random()*(r.getTime()-e.getTime()))};for(let e=0;e<30;e++){const r=Math.floor(Math.random()*100),c=Math.floor(Math.random()*r),h=s();n.push({name:h,value:r}),i.push({name:h,value:c})}return[{name:"Total",data:n},{name:"Used",data:i}]};new _(document.getElementById("stackedbar-chart")).data(t()).stroke("#848484").margin({bottom:50}).build().rotateLabels().pretty()}),(t,l)=>(g(),p("div",v,x))}};export{y as default};
